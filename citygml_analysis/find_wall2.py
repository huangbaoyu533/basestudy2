import  util
def neighbour(found_wall ,ploygon2):
    flag = False
    for i in range(len(found_wall)/3):
        for j in range(len(ploygon2)/3):
            if found_wall[3*i]==ploygon2[3*j] and found_wall[3*i+1]==ploygon2[3*j+1] and found_wall[3*i+2]==ploygon2[3*j+2]:
                flag= True
                break
    return flag

def FindWalls(t):
    global first_wall
    # global U
    U = t[0]
    first_wall = U[0]
    found_wall=first_wall
    newed=True
    already_in=[]
    while(newed==True):
        newed=False
        already_in.append(found_wall)
        U.remove(found_wall)
        for wall in U:
            if neighbour(found_wall,wall):
                found_wall=wall
                newed=True
                break
    print 'already_in:',already_in
    print 'len(already_in):', len(already_in)
    return  already_in

# if __name__ == '__main__':

    # U= [
    #     [3450524.56211816, 5430334.82918395, 7.0, 3450512.96139938, 5430336.39094186, 7.0, 3450512.96139938,
    #      5430336.39094186, 14.6, 3450524.56211816, 5430334.82918395, 14.6],
    #     [3450513.16009336, 5430336.12202736, 7.0, 3450524.28991098, 5430334.62366497, 7.0, 3450524.28991098,
    #      5430334.62366497, 14.6, 3450513.16009336, 5430336.12202736, 14.6],
    #     [3450523.81338957, 5430329.65021188, 7.0, 3450524.56211816, 5430334.82918395, 7.0, 3450524.56211816,
    #      5430334.82918395, 14.6, 3450524.18774572, 5430332.23964159, 17.2163396139121, 3450523.81338957,
    #      5430329.65021188, 14.6000000000001],
    #     [3450524.28991098, 5430334.62366497, 7.0, 3450523.61029719, 5430329.92276152, 7.0, 3450523.61029719,
    #      5430329.92276152, 14.8406851625321, 3450523.95021517, 5430332.27398159, 17.2163396139121, 3450524.28991098,
    #      5430334.62366497, 14.8423411041141],
    #     [3450512.12957274, 5430331.37341847, 7.0, 3450523.81338957, 5430329.65021188, 7.0, 3450523.81338957,
    #      5430329.65021188, 14.6, 3450512.12957274, 5430331.37341847, 14.6],
    #     [3450523.61029719, 5430329.92276152, 7.0, 3450512.40630089, 5430331.57520101, 7.0, 3450512.40630089,
    #      5430331.57520101, 14.6, 3450523.61029719, 5430329.92276152, 14.6],
    #     [3450512.96139938, 5430336.39094186, 7.0, 3450512.12957274, 5430331.37341847, 7.0, 3450512.12957274,
    #      5430331.37341847, 14.6000000000002, 3450512.54542268, 5430333.88179788, 17.1422109843668, 3450512.96139938,
    #      5430336.39094186, 14.6],
    #     [3450512.40630089, 5430331.57520101, 7.0, 3450513.16009336, 5430336.12202736, 7.0, 3450513.16009336,
    #      5430336.12202736, 14.8326886483, 3450512.78219102, 5430333.84254541, 17.1422109843668, 3450512.40630089,
    #      5430331.57520101, 14.8442859505146]]

    # first_wall=U[0]
    # found_wall=first_wall
    # Newed=True
    # already_in=[]
    # total_ps=[FindWalls()]
    # util.saveobj(total_ps, './citygml_data/obj/find_wall4.obj')

